require("sepia");
const places = require ("../03_google_places");

const resultTest=[ { date: '15/12/2017',
    temperature: 4.37,
    weather: { id: 500, main: 'Rain', description: 'light rain' } },
  { date: '15/12/2017',
    temperature: 3.93,
    weather: { id: 500, main: 'Rain', description: 'light rain' } },
  { date: '16/12/2017',
    temperature: 1.75,
    weather: { id: 500, main: 'Rain', description: 'light rain' } },
  { date: '16/12/2017',
    temperature: 2.64,
    weather: { id: 500, main: 'Rain', description: 'light rain' } },
  { date: '16/12/2017',
    temperature: 3.46,
    weather: { id: 500, main: 'Rain', description: 'light rain' } },
  { date: '16/12/2017',
    temperature: 2.82,
    weather: { id: 500, main: 'Rain', description: 'light rain' } },
  { date: '16/12/2017',
    temperature: 4.41,
    weather: { id: 800, main: 'Clear', description: 'clear sky' } },
  { date: '16/12/2017',
    temperature: 3.33,
    weather: { id: 500, main: 'Rain', description: 'light rain' } },
  { date: '16/12/2017',
    temperature: 1.58,
    weather: { id: 500, main: 'Rain', description: 'light rain' } },
  { date: '16/12/2017',
    temperature: 0.12,
    weather: { id: 800, main: 'Clear', description: 'clear sky' } },
  { date: '17/12/2017',
    temperature: -0.43,
    weather: { id: 801, main: 'Clouds', description: 'few clouds' } },
  { date: '17/12/2017',
    temperature: 0.16,
    weather: { id: 500, main: 'Rain', description: 'light rain' } },
  { date: '17/12/2017',
    temperature: 1.12,
    weather: { id: 500, main: 'Rain', description: 'light rain' } },
  { date: '17/12/2017',
    temperature: 2.09,
    weather: { id: 500, main: 'Rain', description: 'light rain' } },
  { date: '17/12/2017',
    temperature: 3.76,
    weather: { id: 500, main: 'Rain', description: 'light rain' } },
  { date: '17/12/2017',
    temperature: 3.31,
    weather: { id: 802, main: 'Clouds', description: 'scattered clouds' } },
  { date: '17/12/2017',
    temperature: 3.51,
    weather: { id: 500, main: 'Rain', description: 'light rain' } },
  { date: '17/12/2017',
    temperature: 5.25,
    weather: { id: 500, main: 'Rain', description: 'light rain' } },
  { date: '18/12/2017',
    temperature: 8.68,
    weather: { id: 501, main: 'Rain', description: 'moderate rain' } },
  { date: '18/12/2017',
    temperature: 5.58,
    weather: { id: 500, main: 'Rain', description: 'light rain' } },
  { date: '18/12/2017',
    temperature: 3.95,
    weather: { id: 500, main: 'Rain', description: 'light rain' } },
  { date: '18/12/2017',
    temperature: 4.75,
    weather: { id: 500, main: 'Rain', description: 'light rain' } },
  { date: '18/12/2017',
    temperature: 6.85,
    weather: { id: 500, main: 'Rain', description: 'light rain' } },
  { date: '18/12/2017',
    temperature: 6.75,
    weather: { id: 500, main: 'Rain', description: 'light rain' } },
  { date: '18/12/2017',
    temperature: 6.44,
    weather: { id: 500, main: 'Rain', description: 'light rain' } },
  { date: '18/12/2017',
    temperature: 6.33,
    weather: { id: 500, main: 'Rain', description: 'light rain' } },
  { date: '19/12/2017',
    temperature: 5.83,
    weather: { id: 500, main: 'Rain', description: 'light rain' } },
  { date: '19/12/2017',
    temperature: 5.33,
    weather: { id: 500, main: 'Rain', description: 'light rain' } },
  { date: '19/12/2017',
    temperature: 4.91,
    weather: { id: 500, main: 'Rain', description: 'light rain' } },
  { date: '19/12/2017',
    temperature: 3.42,
    weather: { id: 500, main: 'Rain', description: 'light rain' } },
  { date: '19/12/2017',
    temperature: 6.79,
    weather: { id: 802, main: 'Clouds', description: 'scattered clouds' } },
  { date: '19/12/2017',
    temperature: 6.56,
    weather: { id: 802, main: 'Clouds', description: 'scattered clouds' } },
  { date: '19/12/2017',
    temperature: 4.59,
    weather: { id: 803, main: 'Clouds', description: 'broken clouds' } },
  { date: '19/12/2017',
    temperature: 4.33,
    weather: { id: 500, main: 'Rain', description: 'light rain' } },
  { date: '20/12/2017',
    temperature: 4.17,
    weather: { id: 500, main: 'Rain', description: 'light rain' } },
  { date: '20/12/2017',
    temperature: 3.81,
    weather: { id: 500, main: 'Rain', description: 'light rain' } },
  { date: '20/12/2017',
    temperature: 3.26,
    weather: { id: 500, main: 'Rain', description: 'light rain' } },
  { date: '20/12/2017',
    temperature: 3.3,
    weather: { id: 500, main: 'Rain', description: 'light rain' } },
  { date: '20/12/2017',
    temperature: 4.08,
    weather: { id: 500, main: 'Rain', description: 'light rain' } },
  { date: '20/12/2017',
    temperature: 4.16,
    weather: { id: 500, main: 'Rain', description: 'light rain' } } ];


test("Recover weather for a places",() => {
  expect.assertions(1);
  return places("Decathlon Campus")
    .then((result) => {
      return expect(result).toEqual(resultTest)
    })
    .catch((error) => {
      return expect(error).toBe("error")
    })
});
